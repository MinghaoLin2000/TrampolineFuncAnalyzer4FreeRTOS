# TrampolineFuncAnalyzer4FreeRTOS

## Intro
An automatic tool to identify all trampoline functions in FreeRTOS that can cause arbitrary read/write and DoS because of lacking checks.

## Usage
1. install and configure CodeQL in local and also VS Code environment
2. import `rtosdatabase` directory to VS Code. rtosdatabse3 is source code data generated by CodeQL for FreeRTOS
3. In VS Code, run the script `vscode-codeql-starter/codeql-custom-queries-cpp/example.ql`

## Note
- In `rtosdatabase` directory, we enable all macroes to include all functions with `MPU_` prefix. In this way, all potentally vulnerable functions can be analyzed. 
- We support three analysis targets, including aribitrary write, arbitrary read, and other issues.
- Our static analysis contains false positives (i.e., identified function is free from the reported issue) but no false negative (i.e., not missing any vulnerable function)

## Overall Results
### List of functions causing arbitrary write
1. MPU_XXX

### List of functions causing arbitrary read


### List of functions causing other security issues


## More Detailed Analysis Results
[Identifying Trampoline Functions in FreeRTOS that Lack Checks](https://docs.google.com/document/d/1Jr1zfKXG5v4M4E8Fc4IgjKFUk2b2DsCCxUoiQCueWHI/edit?usp=sharing)